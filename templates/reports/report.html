<!doctype html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <!-- Bootstrap Font Icon CSS -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">

	{% block metatags %}
	<title>{{ object.title }}</title>
	{% endblock %}

	<style type="text/css">
		.fixed-panel {
			min-height: 140px;
			max-height: 300px;
		}
/*		.panel-body {background:#f8f9fa;;} */
		.panel-heading {background-color: #dee2e6; font-weight: 600;}
		.panel-body-border { 
    		border: 1px solid #dee2e6 !important;
		}
		/*text area to keep new line */
		label {
			white-space: pre-wrap;
		}
		#myleft > .panel.mypadding-top {
			padding-top: 10px;
		}
	</style>
</head>

<body>
	
	<div class="container mt-3">  <!-- margin top 3 -->
		<div class="row">
			<div class="col-8">
				<h3 class="font-weight-bold"><u>{{ object.project.title }}</u></h3>
				<p>{{ object.title }}</p>
		  	</div>
		  	<div class="col-4 text-nowrap float-end" >
			<p class="text-end m-0 small">CBU Program Manager: {{ object.project.CBUpm }} </p>
			<p class="text-end m-0 small">HAEA Project Manager: {{ object.project.user }} </p>
			</div>
		</div>

		<div class="row">
			<div class="col-6" id="myleft">
				<div class="panel panel-default ">
					<div class="panel-heading"><div class="ms-2">Objective</div></div>
					<div class="panel-body fixed-panel panel-body-border" ><div class="ms-2"><small>{{ object.project.description }}</small></div></div>
				</div>
				  <div class="panel panel-default mypadding-top">
					<div class="panel-heading"><div class="ms-2">Achievement</div></div>
					<div class="panel-body fixed-panel panel-body-border"><div class="ms-2"><label><small>{{ object.content_a|striptags }}</small></label></div></div> 							
				</div>
				  <div class="panel panel-default mypadding-top">
					<div class="panel-heading"><div class="ms-2">Plan for next period</div></div>
					<div class="panel-body fixed-panel panel-body-border"><div class="ms-2"><label><small>{{ object.content_p|striptags }}</small></label></div></div>
				</div>
				  <div class="panel panel-default mypadding-top">
					<div class="panel-heading"><div class="ms-2">Issues/Plan</div></div>
					<div class="panel-body fixed-panel panel-body-border"><div class="ms-2"><label><small>{{ object.issue|striptags }}</small></label></div></div>
				</div>				  				  				
			</div>
			<div class="col-6">
				
				<div class="row">
					<div class="panel panel-default">
					<div class="panel-heading"><div class="ms-2">Overall Project Health</div></div>
					<div class="panel-body">
					<table id="health" class="table table-bordered">
						<thead>
						<tr>
							<th scope="col" class="text-center">Overall</th>
							<th scope="col" class="text-center">Schedule</th>
							<th scope="col" class="text-center">Budget</th>
							<th scope="col" class="text-center">Scope</th>
						</tr>
						</thead>
						<tbody>
						<tr>
							<td class="
								{%   if object.status_o == 1 %}bg-success
								{% elif object.status_o == 2 %}bg-warning
								{% elif object.status_o == 3 %}bg-danger
								{% elif object.status_o == 9 %}bg-primary
								{% else %}bg-secondary 
								{% endif %}"></td>
							<td class="
								{%   if object.status_t == 1 %}bg-success
								{% elif object.status_t == 2 %}bg-warning
								{% elif object.status_t == 3 %}bg-danger
								{% elif object.status_t == 9 %}bg-primary
								{% else %}bg-secondary 
								{% endif %}"></td>
							<td class="
								{%   if object.status_b == 1 %}bg-success
								{% elif object.status_b == 2 %}bg-warning
								{% elif object.status_b == 3 %}bg-danger
								{% elif object.status_b == 9 %}bg-primary
								{% else %}bg-secondary 
								{% endif %}"></td>
							<td class="
								{%   if object.status_s == 1 %}bg-success
								{% elif object.status_s == 2 %}bg-warning
								{% elif object.status_s == 3 %}bg-danger
								{% elif object.status_s == 9 %}bg-primary
								{% else %}bg-secondary 
								{% endif %}"></td>
						</tr>
					</tbody></table>
					</div>
					</div>
				</div>

				<div class="row">
					<div class="panel panel-default">
						<div class="panel-heading"><div class="ms-2">Major Milestones</div></div>
						<div class="panel-body">
					<!-- table-sm : smaller padding -->
					<table id="milestonetbl" class="table table-bordered table-sm">
						<thead class="table-light">
						<tr>
							<th scope="col"><small>Stage</small></th>
							<th scope="col"><small>Status</small></th>
							<th scope="col"><small>Task Description</small></th>
							<th scope="col"><small>Start</small></th>
							<th scope="col"><small>End</small></th>
							<th scope="col" class="text-end"><small>%C</small></th>
						</tr>
						</thead>
						<tbody>
						{% for m in milestone %}
						<tr> <!-- https://getbootstrap.com/docs/4.1/components/badge/ https://icons.getbootstrap.com/ <i class="bi-class-name"></i> -->
							<td scope="row"><small>{{ m.stage }}</small></th>
							<td class="text-center">
								{%   if m.status == 1 %}<i class="text-success bi-check-circle-fill"></i>
								{% elif m.status == 2 %}<i class="text-warning bi-exclamation-circle"></i>
								{% elif m.status == 3 %}<i class="text-danger  bi-exclamation-circle-fill"></i>
								{% elif m.status == 9 %}<i class="text-primary bi-circle-fill"></i>
								{% else %}<i class="text-secondary  bi-dash-circle-dotted"></i>
								{% endif %}</td>
							<td><small>{{ m.description }}</small></td>
							<td><small>{{ m.start }}</small></td>
							<td><small>{{ m.finish }}</small></td>
							<td class="text-end"><small>{{ m.complete }}%</small></td>
						</tr>						
						{% endfor %}	
						</tbody>
					</table>
					<p class="text-end text-muted small m-0 "><i class="text-success bi-check-circle-fill"></i>Good | <i class="text-warning bi-exclamation-circle"></i>Issue | <i class="text-danger  bi-exclamation-circle-fill"></i>Roadblocks | <i class="text-primary bi-circle-fill"></i>Complete | <i class="text-secondary  bi-dash-circle-dotted"></i>Not started</p>
				</div>				
				</div>
			</div>
		</div>		
	</div>


	<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha384-nvAa0+6Qg9clwYCGGPpDQLVpLNn0fRaROjHqs13t4Ggj3Ez50XnGQqc/r8MhnRDZ" crossorigin="anonymous"></script>
    <script src="/static/reports/css/jquery.table.marge.js"></script>
    <script>
        //$('#textTable').margetable({
        //    colindex:[{
        //        index:0
        //    },{
        //        index:1,
        //        dependent:[0]
        //    },{
        //        index:2,
        //        dependent:[0,1]
        //    }]
        //});
        $('#milestonetbl').margetable({
            type: 2,
            colindex: [0]
        });
		//textarea
		
		//	$("#textarea4").val().replace(/\n/g, "&#10;"); 


    </script>

	<!-- Load React. -->
    <!-- Note: when deploying, replace "development.js" with "production.min.js". -->
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>


    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

</body>
</html>